<!DOCTYPE html>
<meta charset="utf-8">
<style>

path {
  stroke-linecap: butt;
}

.origin {
  cursor: pointer;
  fill-opacity: 0.4;
  stroke-width: 1px;
  stroke: #000;
  stroke-opacity: 0.4;
  fill: #ccc;
}

.target {
  cursor: pointer;
  fill-opacity: 0.4;
  stroke-width: 1px;
  stroke: #000;
  stroke-opacity: 0.4;
  fill: #ccc;
}

.target.highlight, .origin.highlight {
  fill-opacity: 1;
  fill: #EB9394;
}

</style>
<svg width="960" height="500">
</svg>
<script src="../node_modules/d3-polygon/build/d3-polygon.js"></script>
<script src="../build/partials.js"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script>

var a = [850, 200], b = [500, 100], c = [400, 240], data, polygons;

data = partials.rectangle2Square(partials.triangle2Rectangle([a, b, c]));

var svg = d3.select("svg").append("g");

var line = d3.svg.line()
            .x(function(d) { return d[0]; })
            .y(function(d) { return d[1]; })
            .interpolate("linear-closed");          

var origin = svg.append("g").attr("class", "")
  .selectAll("g")
    .data(data.map((d) => d.clone().rotate(-180, c)))
  .enter().append("g").attr("class", "shape")

origin.append("path")
  .attr("class", "origin")
  .attr("id", (d, i) => 'polygon' + i)
  .attr("d", line)
  .on("mouseenter", mouseenter)
  .on("mouseleave", mouseleave);

var target = svg.append("g").attr("class", "")
  .selectAll("g")
    .data(data.map((d) => d.origin()))
  .enter().append("g").attr("class", "shape")

target.append("path")
  .attr("id", (d, i) => 'polygon' + i)
  .attr("class", "target")
  .attr("d", line)
  .on("mouseenter", mouseenter)
  .on("mouseleave", mouseleave);

function mouseenter(d, i) {
  d3.selectAll('#polygon' + i).classed("highlight", true);
}

function mouseleave(d, i) {
  d3.selectAll('.origin').classed("highlight", false);
  d3.selectAll('.target').classed("highlight", false);
}
</script>